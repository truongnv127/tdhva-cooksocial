{"ast":null,"code":"import _objectSpread from \"/home/truongnvops/Documents/Project_AWS/tdhva-cooksocial/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { ConsoleLogger } from './Logger/ConsoleLogger.mjs';\nimport { AmplifyError } from './errors/AmplifyError.mjs';\nimport './types/errors.mjs';\nimport './errors/errorHelpers.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst logger = new ConsoleLogger('parseAWSExports');\nconst authTypeMapping = {\n  API_KEY: 'apiKey',\n  AWS_IAM: 'iam',\n  AMAZON_COGNITO_USER_POOLS: 'userPool',\n  OPENID_CONNECT: 'oidc',\n  NONE: 'none',\n  AWS_LAMBDA: 'lambda',\n  // `LAMBDA` is an incorrect value that was added during the v6 rewrite.\n  // Keeping it as a valid value until v7 to prevent breaking customers who might\n  // be relying on it as a workaround.\n  // ref: https://github.com/aws-amplify/amplify-js/pull/12922\n  // TODO: @v7 remove next line\n  LAMBDA: 'lambda'\n};\n/**\n * Converts the object imported from `aws-exports.js` or `amplifyconfiguration.json` files generated by\n * the Amplify CLI into an object that conforms to the {@link ResourcesConfig}.\n *\n * @param config A configuration object imported  from `aws-exports.js` or `amplifyconfiguration.json`.\n *\n * @returns An object that conforms to the {@link ResourcesConfig} .\n */\nconst parseAWSExports = function () {\n  var _aws_cognito_mfa_type, _aws_cognito_mfa_type2, _aws_cognito_password, _aws_cognito_password2, _aws_cognito_password3, _aws_cognito_password4, _aws_cognito_password5, _aws_cognito_password6, _aws_cognito_password7, _aws_cognito_password8, _aws_cognito_username, _aws_cognito_username2;\n  let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  if (!Object.prototype.hasOwnProperty.call(config, 'aws_project_region')) {\n    throw new AmplifyError({\n      name: 'InvalidParameterException',\n      message: 'Invalid config parameter.',\n      recoverySuggestion: 'Ensure passing the config object imported from  `amplifyconfiguration.json`.'\n    });\n  }\n  const {\n    aws_appsync_apiKey,\n    aws_appsync_authenticationType,\n    aws_appsync_graphqlEndpoint,\n    aws_appsync_region,\n    aws_bots_config,\n    aws_cognito_identity_pool_id,\n    aws_cognito_sign_up_verification_method,\n    aws_cognito_mfa_configuration,\n    aws_cognito_mfa_types,\n    aws_cognito_password_protection_settings,\n    aws_cognito_verification_mechanisms,\n    aws_cognito_signup_attributes,\n    aws_cognito_social_providers,\n    aws_cognito_username_attributes,\n    aws_mandatory_sign_in,\n    aws_mobile_analytics_app_id,\n    aws_mobile_analytics_app_region,\n    aws_user_files_s3_bucket,\n    aws_user_files_s3_bucket_region,\n    aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing,\n    aws_user_pools_id,\n    aws_user_pools_web_client_id,\n    geo,\n    oauth,\n    predictions,\n    aws_cloud_logic_custom,\n    Notifications,\n    modelIntrospection\n  } = config;\n  const amplifyConfig = {};\n  // Analytics\n  if (aws_mobile_analytics_app_id) {\n    amplifyConfig.Analytics = {\n      Pinpoint: {\n        appId: aws_mobile_analytics_app_id,\n        region: aws_mobile_analytics_app_region\n      }\n    };\n  }\n  // Notifications\n  const {\n    InAppMessaging,\n    Push\n  } = Notifications !== null && Notifications !== void 0 ? Notifications : {};\n  if (InAppMessaging !== null && InAppMessaging !== void 0 && InAppMessaging.AWSPinpoint || Push !== null && Push !== void 0 && Push.AWSPinpoint) {\n    if (InAppMessaging !== null && InAppMessaging !== void 0 && InAppMessaging.AWSPinpoint) {\n      const {\n        appId,\n        region\n      } = InAppMessaging.AWSPinpoint;\n      amplifyConfig.Notifications = {\n        InAppMessaging: {\n          Pinpoint: {\n            appId,\n            region\n          }\n        }\n      };\n    }\n    if (Push !== null && Push !== void 0 && Push.AWSPinpoint) {\n      const {\n        appId,\n        region\n      } = Push.AWSPinpoint;\n      amplifyConfig.Notifications = _objectSpread(_objectSpread({}, amplifyConfig.Notifications), {}, {\n        PushNotification: {\n          Pinpoint: {\n            appId,\n            region\n          }\n        }\n      });\n    }\n  }\n  // Interactions\n  if (Array.isArray(aws_bots_config)) {\n    amplifyConfig.Interactions = {\n      LexV1: Object.fromEntries(aws_bots_config.map(bot => [bot.name, bot]))\n    };\n  }\n  // API\n  if (aws_appsync_graphqlEndpoint) {\n    const defaultAuthMode = authTypeMapping[aws_appsync_authenticationType];\n    if (!defaultAuthMode) {\n      logger.debug(\"Invalid authentication type \".concat(aws_appsync_authenticationType, \". Falling back to IAM.\"));\n    }\n    amplifyConfig.API = {\n      GraphQL: {\n        endpoint: aws_appsync_graphqlEndpoint,\n        apiKey: aws_appsync_apiKey,\n        region: aws_appsync_region,\n        defaultAuthMode: defaultAuthMode !== null && defaultAuthMode !== void 0 ? defaultAuthMode : 'iam'\n      }\n    };\n    if (modelIntrospection) {\n      amplifyConfig.API.GraphQL.modelIntrospection = modelIntrospection;\n    }\n  }\n  // Auth\n  const mfaConfig = aws_cognito_mfa_configuration ? {\n    status: aws_cognito_mfa_configuration && aws_cognito_mfa_configuration.toLowerCase(),\n    totpEnabled: (_aws_cognito_mfa_type = aws_cognito_mfa_types === null || aws_cognito_mfa_types === void 0 ? void 0 : aws_cognito_mfa_types.includes('TOTP')) !== null && _aws_cognito_mfa_type !== void 0 ? _aws_cognito_mfa_type : false,\n    smsEnabled: (_aws_cognito_mfa_type2 = aws_cognito_mfa_types === null || aws_cognito_mfa_types === void 0 ? void 0 : aws_cognito_mfa_types.includes('SMS')) !== null && _aws_cognito_mfa_type2 !== void 0 ? _aws_cognito_mfa_type2 : false\n  } : undefined;\n  const passwordFormatConfig = aws_cognito_password_protection_settings ? {\n    minLength: aws_cognito_password_protection_settings.passwordPolicyMinLength,\n    requireLowercase: (_aws_cognito_password = (_aws_cognito_password2 = aws_cognito_password_protection_settings.passwordPolicyCharacters) === null || _aws_cognito_password2 === void 0 ? void 0 : _aws_cognito_password2.includes('REQUIRES_LOWERCASE')) !== null && _aws_cognito_password !== void 0 ? _aws_cognito_password : false,\n    requireUppercase: (_aws_cognito_password3 = (_aws_cognito_password4 = aws_cognito_password_protection_settings.passwordPolicyCharacters) === null || _aws_cognito_password4 === void 0 ? void 0 : _aws_cognito_password4.includes('REQUIRES_UPPERCASE')) !== null && _aws_cognito_password3 !== void 0 ? _aws_cognito_password3 : false,\n    requireNumbers: (_aws_cognito_password5 = (_aws_cognito_password6 = aws_cognito_password_protection_settings.passwordPolicyCharacters) === null || _aws_cognito_password6 === void 0 ? void 0 : _aws_cognito_password6.includes('REQUIRES_NUMBERS')) !== null && _aws_cognito_password5 !== void 0 ? _aws_cognito_password5 : false,\n    requireSpecialCharacters: (_aws_cognito_password7 = (_aws_cognito_password8 = aws_cognito_password_protection_settings.passwordPolicyCharacters) === null || _aws_cognito_password8 === void 0 ? void 0 : _aws_cognito_password8.includes('REQUIRES_SYMBOLS')) !== null && _aws_cognito_password7 !== void 0 ? _aws_cognito_password7 : false\n  } : undefined;\n  const mergedUserAttributes = Array.from(new Set([...(aws_cognito_verification_mechanisms !== null && aws_cognito_verification_mechanisms !== void 0 ? aws_cognito_verification_mechanisms : []), ...(aws_cognito_signup_attributes !== null && aws_cognito_signup_attributes !== void 0 ? aws_cognito_signup_attributes : [])]));\n  const userAttributes = mergedUserAttributes.reduce((attributes, key) => _objectSpread(_objectSpread({}, attributes), {}, {\n    // All user attributes generated by the CLI are required\n    [key.toLowerCase()]: {\n      required: true\n    }\n  }), {});\n  const loginWithEmailEnabled = (_aws_cognito_username = aws_cognito_username_attributes === null || aws_cognito_username_attributes === void 0 ? void 0 : aws_cognito_username_attributes.includes('EMAIL')) !== null && _aws_cognito_username !== void 0 ? _aws_cognito_username : false;\n  const loginWithPhoneEnabled = (_aws_cognito_username2 = aws_cognito_username_attributes === null || aws_cognito_username_attributes === void 0 ? void 0 : aws_cognito_username_attributes.includes('PHONE_NUMBER')) !== null && _aws_cognito_username2 !== void 0 ? _aws_cognito_username2 : false;\n  if (aws_cognito_identity_pool_id || aws_user_pools_id) {\n    amplifyConfig.Auth = {\n      Cognito: {\n        identityPoolId: aws_cognito_identity_pool_id,\n        allowGuestAccess: aws_mandatory_sign_in !== 'enable',\n        signUpVerificationMethod: aws_cognito_sign_up_verification_method,\n        userAttributes,\n        userPoolClientId: aws_user_pools_web_client_id,\n        userPoolId: aws_user_pools_id,\n        mfa: mfaConfig,\n        passwordFormat: passwordFormatConfig,\n        loginWith: {\n          username: !(loginWithEmailEnabled || loginWithPhoneEnabled),\n          email: loginWithEmailEnabled,\n          phone: loginWithPhoneEnabled\n        }\n      }\n    };\n  }\n  const hasOAuthConfig = oauth ? Object.keys(oauth).length > 0 : false;\n  const hasSocialProviderConfig = aws_cognito_social_providers ? aws_cognito_social_providers.length > 0 : false;\n  if (amplifyConfig.Auth && hasOAuthConfig) {\n    amplifyConfig.Auth.Cognito.loginWith = _objectSpread(_objectSpread({}, amplifyConfig.Auth.Cognito.loginWith), {}, {\n      oauth: _objectSpread(_objectSpread({}, getOAuthConfig(oauth)), hasSocialProviderConfig && {\n        providers: parseSocialProviders(aws_cognito_social_providers)\n      })\n    });\n  }\n  // Storage\n  if (aws_user_files_s3_bucket) {\n    amplifyConfig.Storage = {\n      S3: {\n        bucket: aws_user_files_s3_bucket,\n        region: aws_user_files_s3_bucket_region,\n        dangerouslyConnectToHttpEndpointForTesting: aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing\n      }\n    };\n  }\n  // Geo\n  if (geo) {\n    const {\n      amazon_location_service\n    } = geo;\n    amplifyConfig.Geo = {\n      LocationService: {\n        maps: amazon_location_service.maps,\n        geofenceCollections: amazon_location_service.geofenceCollections,\n        searchIndices: amazon_location_service.search_indices,\n        region: amazon_location_service.region\n      }\n    };\n  }\n  // REST API\n  if (aws_cloud_logic_custom) {\n    amplifyConfig.API = _objectSpread(_objectSpread({}, amplifyConfig.API), {}, {\n      REST: aws_cloud_logic_custom.reduce((acc, api) => {\n        const {\n          name,\n          endpoint,\n          region,\n          service\n        } = api;\n        return _objectSpread(_objectSpread({}, acc), {}, {\n          [name]: _objectSpread(_objectSpread({\n            endpoint\n          }, service ? {\n            service\n          } : undefined), region ? {\n            region\n          } : undefined)\n        });\n      }, {})\n    });\n  }\n  // Predictions\n  if (predictions) {\n    var _predictions$convert$, _predictions$convert;\n    // map VoiceId from speechGenerator defaults to voiceId\n    const {\n      VoiceId: voiceId\n    } = (_predictions$convert$ = predictions === null || predictions === void 0 || (_predictions$convert = predictions.convert) === null || _predictions$convert === void 0 || (_predictions$convert = _predictions$convert.speechGenerator) === null || _predictions$convert === void 0 ? void 0 : _predictions$convert.defaults) !== null && _predictions$convert$ !== void 0 ? _predictions$convert$ : {};\n    amplifyConfig.Predictions = voiceId ? _objectSpread(_objectSpread({}, predictions), {}, {\n      convert: _objectSpread(_objectSpread({}, predictions.convert), {}, {\n        speechGenerator: _objectSpread(_objectSpread({}, predictions.convert.speechGenerator), {}, {\n          defaults: {\n            voiceId\n          }\n        })\n      })\n    }) : predictions;\n  }\n  return amplifyConfig;\n};\nconst getRedirectUrl = redirectStr => {\n  var _redirectStr$split;\n  return (_redirectStr$split = redirectStr === null || redirectStr === void 0 ? void 0 : redirectStr.split(',')) !== null && _redirectStr$split !== void 0 ? _redirectStr$split : [];\n};\nconst getOAuthConfig = _ref => {\n  let {\n    domain,\n    scope,\n    redirectSignIn,\n    redirectSignOut,\n    responseType\n  } = _ref;\n  return {\n    domain,\n    scopes: scope,\n    redirectSignIn: getRedirectUrl(redirectSignIn),\n    redirectSignOut: getRedirectUrl(redirectSignOut),\n    responseType\n  };\n};\nconst parseSocialProviders = aws_cognito_social_providers => {\n  return aws_cognito_social_providers.map(provider => {\n    const updatedProvider = provider.toLowerCase();\n    return updatedProvider.charAt(0).toUpperCase() + updatedProvider.slice(1);\n  });\n};\nexport { parseAWSExports };","map":{"version":3,"names":["logger","ConsoleLogger","authTypeMapping","API_KEY","AWS_IAM","AMAZON_COGNITO_USER_POOLS","OPENID_CONNECT","NONE","AWS_LAMBDA","LAMBDA","parseAWSExports","_aws_cognito_mfa_type","_aws_cognito_mfa_type2","_aws_cognito_password","_aws_cognito_password2","_aws_cognito_password3","_aws_cognito_password4","_aws_cognito_password5","_aws_cognito_password6","_aws_cognito_password7","_aws_cognito_password8","_aws_cognito_username","_aws_cognito_username2","config","arguments","length","undefined","Object","prototype","hasOwnProperty","call","AmplifyError","name","message","recoverySuggestion","aws_appsync_apiKey","aws_appsync_authenticationType","aws_appsync_graphqlEndpoint","aws_appsync_region","aws_bots_config","aws_cognito_identity_pool_id","aws_cognito_sign_up_verification_method","aws_cognito_mfa_configuration","aws_cognito_mfa_types","aws_cognito_password_protection_settings","aws_cognito_verification_mechanisms","aws_cognito_signup_attributes","aws_cognito_social_providers","aws_cognito_username_attributes","aws_mandatory_sign_in","aws_mobile_analytics_app_id","aws_mobile_analytics_app_region","aws_user_files_s3_bucket","aws_user_files_s3_bucket_region","aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing","aws_user_pools_id","aws_user_pools_web_client_id","geo","oauth","predictions","aws_cloud_logic_custom","Notifications","modelIntrospection","amplifyConfig","Analytics","Pinpoint","appId","region","InAppMessaging","Push","AWSPinpoint","_objectSpread","PushNotification","Array","isArray","Interactions","LexV1","fromEntries","map","bot","defaultAuthMode","debug","concat","API","GraphQL","endpoint","apiKey","mfaConfig","status","toLowerCase","totpEnabled","includes","smsEnabled","passwordFormatConfig","minLength","passwordPolicyMinLength","requireLowercase","passwordPolicyCharacters","requireUppercase","requireNumbers","requireSpecialCharacters","mergedUserAttributes","from","Set","userAttributes","reduce","attributes","key","required","loginWithEmailEnabled","loginWithPhoneEnabled","Auth","Cognito","identityPoolId","allowGuestAccess","signUpVerificationMethod","userPoolClientId","userPoolId","mfa","passwordFormat","loginWith","username","email","phone","hasOAuthConfig","keys","hasSocialProviderConfig","getOAuthConfig","providers","parseSocialProviders","Storage","S3","bucket","dangerouslyConnectToHttpEndpointForTesting","amazon_location_service","Geo","LocationService","maps","geofenceCollections","searchIndices","search_indices","REST","acc","api","service","_predictions$convert$","_predictions$convert","VoiceId","voiceId","convert","speechGenerator","defaults","Predictions","getRedirectUrl","redirectStr","_redirectStr$split","split","_ref","domain","scope","redirectSignIn","redirectSignOut","responseType","scopes","provider","updatedProvider","charAt","toUpperCase","slice"],"sources":["/home/truongnvops/Documents/Project_AWS/tdhva-cooksocial/frontend/node_modules/@aws-amplify/core/src/parseAWSExports.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { ConsoleLogger } from './Logger';\nimport { AmplifyError } from './errors';\nconst logger = new ConsoleLogger('parseAWSExports');\nconst authTypeMapping = {\n    API_KEY: 'apiKey',\n    AWS_IAM: 'iam',\n    AMAZON_COGNITO_USER_POOLS: 'userPool',\n    OPENID_CONNECT: 'oidc',\n    NONE: 'none',\n    AWS_LAMBDA: 'lambda',\n    // `LAMBDA` is an incorrect value that was added during the v6 rewrite.\n    // Keeping it as a valid value until v7 to prevent breaking customers who might\n    // be relying on it as a workaround.\n    // ref: https://github.com/aws-amplify/amplify-js/pull/12922\n    // TODO: @v7 remove next line\n    LAMBDA: 'lambda',\n};\n/**\n * Converts the object imported from `aws-exports.js` or `amplifyconfiguration.json` files generated by\n * the Amplify CLI into an object that conforms to the {@link ResourcesConfig}.\n *\n * @param config A configuration object imported  from `aws-exports.js` or `amplifyconfiguration.json`.\n *\n * @returns An object that conforms to the {@link ResourcesConfig} .\n */\nexport const parseAWSExports = (config = {}) => {\n    if (!Object.prototype.hasOwnProperty.call(config, 'aws_project_region')) {\n        throw new AmplifyError({\n            name: 'InvalidParameterException',\n            message: 'Invalid config parameter.',\n            recoverySuggestion: 'Ensure passing the config object imported from  `amplifyconfiguration.json`.',\n        });\n    }\n    const { aws_appsync_apiKey, aws_appsync_authenticationType, aws_appsync_graphqlEndpoint, aws_appsync_region, aws_bots_config, aws_cognito_identity_pool_id, aws_cognito_sign_up_verification_method, aws_cognito_mfa_configuration, aws_cognito_mfa_types, aws_cognito_password_protection_settings, aws_cognito_verification_mechanisms, aws_cognito_signup_attributes, aws_cognito_social_providers, aws_cognito_username_attributes, aws_mandatory_sign_in, aws_mobile_analytics_app_id, aws_mobile_analytics_app_region, aws_user_files_s3_bucket, aws_user_files_s3_bucket_region, aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing, aws_user_pools_id, aws_user_pools_web_client_id, geo, oauth, predictions, aws_cloud_logic_custom, Notifications, modelIntrospection, } = config;\n    const amplifyConfig = {};\n    // Analytics\n    if (aws_mobile_analytics_app_id) {\n        amplifyConfig.Analytics = {\n            Pinpoint: {\n                appId: aws_mobile_analytics_app_id,\n                region: aws_mobile_analytics_app_region,\n            },\n        };\n    }\n    // Notifications\n    const { InAppMessaging, Push } = Notifications ?? {};\n    if (InAppMessaging?.AWSPinpoint || Push?.AWSPinpoint) {\n        if (InAppMessaging?.AWSPinpoint) {\n            const { appId, region } = InAppMessaging.AWSPinpoint;\n            amplifyConfig.Notifications = {\n                InAppMessaging: {\n                    Pinpoint: {\n                        appId,\n                        region,\n                    },\n                },\n            };\n        }\n        if (Push?.AWSPinpoint) {\n            const { appId, region } = Push.AWSPinpoint;\n            amplifyConfig.Notifications = {\n                ...amplifyConfig.Notifications,\n                PushNotification: {\n                    Pinpoint: {\n                        appId,\n                        region,\n                    },\n                },\n            };\n        }\n    }\n    // Interactions\n    if (Array.isArray(aws_bots_config)) {\n        amplifyConfig.Interactions = {\n            LexV1: Object.fromEntries(aws_bots_config.map(bot => [bot.name, bot])),\n        };\n    }\n    // API\n    if (aws_appsync_graphqlEndpoint) {\n        const defaultAuthMode = authTypeMapping[aws_appsync_authenticationType];\n        if (!defaultAuthMode) {\n            logger.debug(`Invalid authentication type ${aws_appsync_authenticationType}. Falling back to IAM.`);\n        }\n        amplifyConfig.API = {\n            GraphQL: {\n                endpoint: aws_appsync_graphqlEndpoint,\n                apiKey: aws_appsync_apiKey,\n                region: aws_appsync_region,\n                defaultAuthMode: defaultAuthMode ?? 'iam',\n            },\n        };\n        if (modelIntrospection) {\n            amplifyConfig.API.GraphQL.modelIntrospection = modelIntrospection;\n        }\n    }\n    // Auth\n    const mfaConfig = aws_cognito_mfa_configuration\n        ? {\n            status: aws_cognito_mfa_configuration &&\n                aws_cognito_mfa_configuration.toLowerCase(),\n            totpEnabled: aws_cognito_mfa_types?.includes('TOTP') ?? false,\n            smsEnabled: aws_cognito_mfa_types?.includes('SMS') ?? false,\n        }\n        : undefined;\n    const passwordFormatConfig = aws_cognito_password_protection_settings\n        ? {\n            minLength: aws_cognito_password_protection_settings.passwordPolicyMinLength,\n            requireLowercase: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_LOWERCASE') ?? false,\n            requireUppercase: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_UPPERCASE') ?? false,\n            requireNumbers: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_NUMBERS') ?? false,\n            requireSpecialCharacters: aws_cognito_password_protection_settings.passwordPolicyCharacters?.includes('REQUIRES_SYMBOLS') ?? false,\n        }\n        : undefined;\n    const mergedUserAttributes = Array.from(new Set([\n        ...(aws_cognito_verification_mechanisms ?? []),\n        ...(aws_cognito_signup_attributes ?? []),\n    ]));\n    const userAttributes = mergedUserAttributes.reduce((attributes, key) => ({\n        ...attributes,\n        // All user attributes generated by the CLI are required\n        [key.toLowerCase()]: { required: true },\n    }), {});\n    const loginWithEmailEnabled = aws_cognito_username_attributes?.includes('EMAIL') ?? false;\n    const loginWithPhoneEnabled = aws_cognito_username_attributes?.includes('PHONE_NUMBER') ?? false;\n    if (aws_cognito_identity_pool_id || aws_user_pools_id) {\n        amplifyConfig.Auth = {\n            Cognito: {\n                identityPoolId: aws_cognito_identity_pool_id,\n                allowGuestAccess: aws_mandatory_sign_in !== 'enable',\n                signUpVerificationMethod: aws_cognito_sign_up_verification_method,\n                userAttributes,\n                userPoolClientId: aws_user_pools_web_client_id,\n                userPoolId: aws_user_pools_id,\n                mfa: mfaConfig,\n                passwordFormat: passwordFormatConfig,\n                loginWith: {\n                    username: !(loginWithEmailEnabled || loginWithPhoneEnabled),\n                    email: loginWithEmailEnabled,\n                    phone: loginWithPhoneEnabled,\n                },\n            },\n        };\n    }\n    const hasOAuthConfig = oauth ? Object.keys(oauth).length > 0 : false;\n    const hasSocialProviderConfig = aws_cognito_social_providers\n        ? aws_cognito_social_providers.length > 0\n        : false;\n    if (amplifyConfig.Auth && hasOAuthConfig) {\n        amplifyConfig.Auth.Cognito.loginWith = {\n            ...amplifyConfig.Auth.Cognito.loginWith,\n            oauth: {\n                ...getOAuthConfig(oauth),\n                ...(hasSocialProviderConfig && {\n                    providers: parseSocialProviders(aws_cognito_social_providers),\n                }),\n            },\n        };\n    }\n    // Storage\n    if (aws_user_files_s3_bucket) {\n        amplifyConfig.Storage = {\n            S3: {\n                bucket: aws_user_files_s3_bucket,\n                region: aws_user_files_s3_bucket_region,\n                dangerouslyConnectToHttpEndpointForTesting: aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing,\n            },\n        };\n    }\n    // Geo\n    if (geo) {\n        const { amazon_location_service } = geo;\n        amplifyConfig.Geo = {\n            LocationService: {\n                maps: amazon_location_service.maps,\n                geofenceCollections: amazon_location_service.geofenceCollections,\n                searchIndices: amazon_location_service.search_indices,\n                region: amazon_location_service.region,\n            },\n        };\n    }\n    // REST API\n    if (aws_cloud_logic_custom) {\n        amplifyConfig.API = {\n            ...amplifyConfig.API,\n            REST: aws_cloud_logic_custom.reduce((acc, api) => {\n                const { name, endpoint, region, service } = api;\n                return {\n                    ...acc,\n                    [name]: {\n                        endpoint,\n                        ...(service ? { service } : undefined),\n                        ...(region ? { region } : undefined),\n                    },\n                };\n            }, {}),\n        };\n    }\n    // Predictions\n    if (predictions) {\n        // map VoiceId from speechGenerator defaults to voiceId\n        const { VoiceId: voiceId } = predictions?.convert?.speechGenerator?.defaults ?? {};\n        amplifyConfig.Predictions = voiceId\n            ? {\n                ...predictions,\n                convert: {\n                    ...predictions.convert,\n                    speechGenerator: {\n                        ...predictions.convert.speechGenerator,\n                        defaults: { voiceId },\n                    },\n                },\n            }\n            : predictions;\n    }\n    return amplifyConfig;\n};\nconst getRedirectUrl = (redirectStr) => redirectStr?.split(',') ?? [];\nconst getOAuthConfig = ({ domain, scope, redirectSignIn, redirectSignOut, responseType, }) => ({\n    domain,\n    scopes: scope,\n    redirectSignIn: getRedirectUrl(redirectSignIn),\n    redirectSignOut: getRedirectUrl(redirectSignOut),\n    responseType,\n});\nconst parseSocialProviders = (aws_cognito_social_providers) => {\n    return aws_cognito_social_providers.map((provider) => {\n        const updatedProvider = provider.toLowerCase();\n        return updatedProvider.charAt(0).toUpperCase() + updatedProvider.slice(1);\n    });\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}