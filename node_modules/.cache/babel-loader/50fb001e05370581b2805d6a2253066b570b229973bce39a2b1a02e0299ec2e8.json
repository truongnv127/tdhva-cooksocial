{"ast":null,"code":"import { parseMetadata } from './responseInfo.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Utility functions for serializing and deserializing of JSON protocol in general(including: REST-JSON, JSON-RPC, etc.)\n */\n/**\n * Error parser for AWS JSON protocol.\n */\nconst parseJsonError = async response => {\n  var _ref, _ref2, _response$headers$xA, _ref3, _body$message;\n  if (!response || response.statusCode < 300) {\n    return;\n  }\n  const body = await parseJsonBody(response);\n  const sanitizeErrorCode = rawValue => {\n    const [cleanValue] = rawValue.toString().split(/[,:]+/);\n    if (cleanValue.includes('#')) {\n      return cleanValue.split('#')[1];\n    }\n    return cleanValue;\n  };\n  const code = sanitizeErrorCode((_ref = (_ref2 = (_response$headers$xA = response.headers['x-amzn-errortype']) !== null && _response$headers$xA !== void 0 ? _response$headers$xA : body.code) !== null && _ref2 !== void 0 ? _ref2 : body.__type) !== null && _ref !== void 0 ? _ref : 'UnknownError');\n  const message = (_ref3 = (_body$message = body.message) !== null && _body$message !== void 0 ? _body$message : body.Message) !== null && _ref3 !== void 0 ? _ref3 : 'Unknown error';\n  const error = new Error(message);\n  return Object.assign(error, {\n    name: code,\n    $metadata: parseMetadata(response)\n  });\n};\n/**\n * Parse JSON response body to JavaScript object.\n */\nconst parseJsonBody = async response => {\n  if (!response.body) {\n    throw new Error('Missing response payload');\n  }\n  const output = await response.body.json();\n  return Object.assign(output, {\n    $metadata: parseMetadata(response)\n  });\n};\nexport { parseJsonBody, parseJsonError };","map":{"version":3,"names":["parseJsonError","response","_ref","_ref2","_response$headers$xA","_ref3","_body$message","statusCode","body","parseJsonBody","sanitizeErrorCode","rawValue","cleanValue","toString","split","includes","code","headers","__type","message","Message","error","Error","Object","assign","name","$metadata","parseMetadata","output","json"],"sources":["/home/truongnvops/Documents/Project_AWS/tdhva-cooksocial/frontend/node_modules/@aws-amplify/core/src/clients/serde/json.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { parseMetadata } from './responseInfo';\n/**\n * Utility functions for serializing and deserializing of JSON protocol in general(including: REST-JSON, JSON-RPC, etc.)\n */\n/**\n * Error parser for AWS JSON protocol.\n */\nexport const parseJsonError = async (response) => {\n    if (!response || response.statusCode < 300) {\n        return;\n    }\n    const body = await parseJsonBody(response);\n    const sanitizeErrorCode = (rawValue) => {\n        const [cleanValue] = rawValue.toString().split(/[,:]+/);\n        if (cleanValue.includes('#')) {\n            return cleanValue.split('#')[1];\n        }\n        return cleanValue;\n    };\n    const code = sanitizeErrorCode(response.headers['x-amzn-errortype'] ??\n        body.code ??\n        body.__type ??\n        'UnknownError');\n    const message = body.message ?? body.Message ?? 'Unknown error';\n    const error = new Error(message);\n    return Object.assign(error, {\n        name: code,\n        $metadata: parseMetadata(response),\n    });\n};\n/**\n * Parse JSON response body to JavaScript object.\n */\nexport const parseJsonBody = async (response) => {\n    if (!response.body) {\n        throw new Error('Missing response payload');\n    }\n    const output = await response.body.json();\n    return Object.assign(output, {\n        $metadata: parseMetadata(response),\n    });\n};\n"],"mappings":";;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACY,MAACA,cAAc,GAAG,MAAOC,QAAQ,IAAK;EAAA,IAAAC,IAAA,EAAAC,KAAA,EAAAC,oBAAA,EAAAC,KAAA,EAAAC,aAAA;EAC9C,IAAI,CAACL,QAAQ,IAAIA,QAAQ,CAACM,UAAU,GAAG,GAAG,EAAE;IACxC;EACJ;EACA,MAAMC,IAAI,GAAG,MAAMC,aAAa,CAACR,QAAQ,CAAC;EAC1C,MAAMS,iBAAiB,GAAIC,QAAQ,IAAK;IACpC,MAAM,CAACC,UAAU,CAAC,GAAGD,QAAQ,CAACE,QAAQ,EAAE,CAACC,KAAK,CAAC,OAAO,CAAC;IACvD,IAAIF,UAAU,CAACG,QAAQ,CAAC,GAAG,CAAC,EAAE;MAC1B,OAAOH,UAAU,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACnC;IACA,OAAOF,UAAU;EACrB,CAAC;EACD,MAAMI,IAAI,GAAGN,iBAAiB,EAAAR,IAAA,IAAAC,KAAA,IAAAC,oBAAA,GAACH,QAAQ,CAACgB,OAAO,CAAC,kBAAkB,CAAC,cAAAb,oBAAA,cAAAA,oBAAA,GAC/DI,IAAI,CAACQ,IAAI,cAAAb,KAAA,cAAAA,KAAA,GACTK,IAAI,CAACU,MAAM,cAAAhB,IAAA,cAAAA,IAAA,GACX,cAAc,CAAC;EACnB,MAAMiB,OAAO,IAAAd,KAAA,IAAAC,aAAA,GAAGE,IAAI,CAACW,OAAO,cAAAb,aAAA,cAAAA,aAAA,GAAIE,IAAI,CAACY,OAAO,cAAAf,KAAA,cAAAA,KAAA,GAAI,eAAe;EAC/D,MAAMgB,KAAK,GAAG,IAAIC,KAAK,CAACH,OAAO,CAAC;EAChC,OAAOI,MAAM,CAACC,MAAM,CAACH,KAAK,EAAE;IACxBI,IAAI,EAAET,IAAI;IACVU,SAAS,EAAEC,aAAa,CAAC1B,QAAQ;EACzC,CAAK,CAAC;AACN;AACA;AACA;AACA;AACY,MAACQ,aAAa,GAAG,MAAOR,QAAQ,IAAK;EAC7C,IAAI,CAACA,QAAQ,CAACO,IAAI,EAAE;IAChB,MAAM,IAAIc,KAAK,CAAC,0BAA0B,CAAC;EAC/C;EACA,MAAMM,MAAM,GAAG,MAAM3B,QAAQ,CAACO,IAAI,CAACqB,IAAI,EAAE;EACzC,OAAON,MAAM,CAACC,MAAM,CAACI,MAAM,EAAE;IACzBF,SAAS,EAAEC,aAAa,CAAC1B,QAAQ;EACzC,CAAK,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}