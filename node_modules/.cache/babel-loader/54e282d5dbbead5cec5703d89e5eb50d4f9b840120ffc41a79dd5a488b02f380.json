{"ast":null,"code":"var _jsxFileName = \"/home/truongnvops/Documents/Project_AWS/tdhva-cooksocial/frontend/src/components/Auth.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { signUp } from 'aws-amplify/auth';\nimport countries from '../data/countries.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Auth() {\n  _s();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    email: '',\n    birthdate: '',\n    gender: '',\n    nationality: '',\n    allergies: ''\n  });\n\n  // Input sanitization function\n  const sanitizeInput = input => {\n    if (typeof input !== 'string') return '';\n    return input.replace(/[<>\"'&]/g, '').trim();\n  };\n\n  // Validate input fields\n  const validateForm = () => {\n    if (!formData.username || !formData.password || !formData.birthdate || !formData.gender) {\n      alert('Please fill in all required fields');\n      return false;\n    }\n    if (formData.username.length < 3) {\n      alert('Username must be at least 3 characters');\n      return false;\n    }\n    if (formData.password.length < 8) {\n      alert('Password must be at least 8 characters');\n      return false;\n    }\n    return true;\n  };\n  const handleSignUp = async e => {\n    e.preventDefault();\n    if (!validateForm()) return;\n    try {\n      const sanitizedData = {\n        username: sanitizeInput(formData.username),\n        password: formData.password,\n        // Don't sanitize password\n        email: sanitizeInput(formData.email),\n        birthdate: formData.birthdate,\n        gender: formData.gender,\n        nationality: formData.nationality,\n        allergies: sanitizeInput(formData.allergies)\n      };\n      const {\n        user\n      } = await signUp({\n        username: sanitizedData.username,\n        password: sanitizedData.password,\n        attributes: {\n          email: sanitizedData.email,\n          birthdate: sanitizedData.birthdate,\n          gender: sanitizedData.gender,\n          preferred_username: sanitizedData.username,\n          'custom:nationality': sanitizedData.nationality,\n          'custom:allergies': sanitizedData.allergies\n        }\n      });\n      console.log('Sign up success:', user);\n      alert('Sign up successful!');\n    } catch (error) {\n      console.error('Sign up error:', error);\n      alert('Sign up failed: ' + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '400px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"TDH Cook Social\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSignUp,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Username\",\n        value: formData.username,\n        onChange: e => setFormData({\n          ...formData,\n          username: e.target.value\n        }),\n        required: true,\n        style: {\n          display: 'block',\n          margin: '10px 0',\n          padding: '8px',\n          width: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: formData.password,\n        onChange: e => setFormData({\n          ...formData,\n          password: e.target.value\n        }),\n        required: true,\n        style: {\n          display: 'block',\n          margin: '10px 0',\n          padding: '8px',\n          width: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: formData.birthdate,\n        onChange: e => setFormData({\n          ...formData,\n          birthdate: e.target.value\n        }),\n        required: true,\n        style: {\n          display: 'block',\n          margin: '10px 0',\n          padding: '8px',\n          width: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: formData.gender,\n        onChange: e => setFormData({\n          ...formData,\n          gender: e.target.value\n        }),\n        required: true,\n        style: {\n          display: 'block',\n          margin: '10px 0',\n          padding: '8px',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Gender\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"male\",\n          children: \"Male\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"female\",\n          children: \"Female\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: formData.nationality,\n        onChange: e => setFormData({\n          ...formData,\n          nationality: e.target.value\n        }),\n        style: {\n          display: 'block',\n          margin: '10px 0',\n          padding: '8px',\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Nationality (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), countries.map(country => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: country.code,\n          children: country.name\n        }, country.code, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: '10px 20px',\n          margin: '10px 0'\n        },\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(Auth, \"d4K4bJKCWvFv22ImFuxnpMGElbA=\");\n_c = Auth;\nexport default Auth;\nvar _c;\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["React","useState","signUp","countries","jsxDEV","_jsxDEV","Auth","_s","formData","setFormData","username","password","email","birthdate","gender","nationality","allergies","sanitizeInput","input","replace","trim","validateForm","alert","length","handleSignUp","e","preventDefault","sanitizedData","user","attributes","preferred_username","console","log","error","message","style","padding","maxWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","display","margin","width","map","country","code","name","_c","$RefreshReg$"],"sources":["/home/truongnvops/Documents/Project_AWS/tdhva-cooksocial/frontend/src/components/Auth.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { signUp } from 'aws-amplify/auth';\nimport countries from '../data/countries.json';\n\nfunction Auth() {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    email: '',\n    birthdate: '',\n    gender: '',\n    nationality: '',\n    allergies: ''\n  });\n\n  // Input sanitization function\n  const sanitizeInput = (input) => {\n    if (typeof input !== 'string') return '';\n    return input.replace(/[<>\"'&]/g, '').trim();\n  };\n\n  // Validate input fields\n  const validateForm = () => {\n    if (!formData.username || !formData.password || !formData.birthdate || !formData.gender) {\n      alert('Please fill in all required fields');\n      return false;\n    }\n    if (formData.username.length < 3) {\n      alert('Username must be at least 3 characters');\n      return false;\n    }\n    if (formData.password.length < 8) {\n      alert('Password must be at least 8 characters');\n      return false;\n    }\n    return true;\n  };\n\n\n  const handleSignUp = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) return;\n    \n    try {\n      const sanitizedData = {\n        username: sanitizeInput(formData.username),\n        password: formData.password, // Don't sanitize password\n        email: sanitizeInput(formData.email),\n        birthdate: formData.birthdate,\n        gender: formData.gender,\n        nationality: formData.nationality,\n        allergies: sanitizeInput(formData.allergies)\n      };\n      \n      const { user } = await signUp({\n        username: sanitizedData.username,\n        password: sanitizedData.password,\n        attributes: {\n          email: sanitizedData.email,\n          birthdate: sanitizedData.birthdate,\n          gender: sanitizedData.gender,\n          preferred_username: sanitizedData.username,\n          'custom:nationality': sanitizedData.nationality,\n          'custom:allergies': sanitizedData.allergies\n        }\n      });\n      console.log('Sign up success:', user);\n      alert('Sign up successful!');\n    } catch (error) {\n      console.error('Sign up error:', error);\n      alert('Sign up failed: ' + error.message);\n    }\n  };\n\n\n\n\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '400px' }}>\n      <h2>TDH Cook Social</h2>\n      <form onSubmit={handleSignUp}>\n        <input\n          type=\"text\"\n          placeholder=\"Username\"\n          value={formData.username}\n          onChange={(e) => setFormData({...formData, username: e.target.value})}\n          required\n          style={{ display: 'block', margin: '10px 0', padding: '8px', width: '100%' }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={formData.password}\n          onChange={(e) => setFormData({...formData, password: e.target.value})}\n          required\n          style={{ display: 'block', margin: '10px 0', padding: '8px', width: '100%' }}\n        />\n        <input\n          type=\"date\"\n          value={formData.birthdate}\n          onChange={(e) => setFormData({...formData, birthdate: e.target.value})}\n          required\n          style={{ display: 'block', margin: '10px 0', padding: '8px', width: '100%' }}\n        />\n        <select\n          value={formData.gender}\n          onChange={(e) => setFormData({...formData, gender: e.target.value})}\n          required\n          style={{ display: 'block', margin: '10px 0', padding: '8px', width: '100%' }}\n        >\n          <option value=\"\">Select Gender</option>\n          <option value=\"male\">Male</option>\n          <option value=\"female\">Female</option>\n        </select>\n        <select\n          value={formData.nationality}\n          onChange={(e) => setFormData({...formData, nationality: e.target.value})}\n          style={{ display: 'block', margin: '10px 0', padding: '8px', width: '100%' }}\n        >\n          <option value=\"\">Nationality (optional)</option>\n          {countries.map(country => (\n            <option key={country.code} value={country.code}>\n              {country.name}\n            </option>\n          ))}\n        </select>\n        <button type=\"submit\" style={{ padding: '10px 20px', margin: '10px 0' }}>\n          Sign Up\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default Auth;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}