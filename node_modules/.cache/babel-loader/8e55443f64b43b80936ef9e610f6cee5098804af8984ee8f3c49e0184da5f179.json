{"ast":null,"code":"import _objectSpread from \"/home/truongnvops/Documents/Project_AWS/tdhva-cooksocial/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { AmplifyUrl, USER_AGENT_HEADER, urlSafeDecode, AMPLIFY_SYMBOL } from '@aws-amplify/core/internals/utils';\nimport { decodeJWT, Hub } from '@aws-amplify/core';\nimport { cacheCognitoTokens } from '../../tokenProvider/cacheTokens.mjs';\nimport { dispatchSignedInHubEvent } from '../dispatchSignedInHubEvent.mjs';\nimport '../refreshAuthTokens.mjs';\nimport '../../tokenProvider/errorHelpers.mjs';\nimport { oAuthStore } from './oAuthStore.mjs';\nimport { resolveAndClearInflightPromises } from './inflightPromise.mjs';\nimport { tokenOrchestrator } from '../../tokenProvider/tokenProvider.mjs';\nimport { createOAuthError } from './createOAuthError.mjs';\nimport { validateState } from './validateState.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst completeOAuthFlow = async _ref => {\n  let {\n    currentUrl,\n    userAgentValue,\n    clientId,\n    redirectUri,\n    responseType,\n    domain,\n    preferPrivateSession\n  } = _ref;\n  const urlParams = new AmplifyUrl(currentUrl);\n  const error = urlParams.searchParams.get('error');\n  const errorMessage = urlParams.searchParams.get('error_description');\n  if (error) {\n    throw createOAuthError(errorMessage !== null && errorMessage !== void 0 ? errorMessage : error);\n  }\n  if (responseType === 'code') {\n    return handleCodeFlow({\n      currentUrl,\n      userAgentValue,\n      clientId,\n      redirectUri,\n      domain,\n      preferPrivateSession\n    });\n  }\n  return handleImplicitFlow({\n    currentUrl,\n    redirectUri,\n    preferPrivateSession\n  });\n};\nconst handleCodeFlow = async _ref2 => {\n  var _ref4;\n  let {\n    currentUrl,\n    userAgentValue,\n    clientId,\n    redirectUri,\n    domain,\n    preferPrivateSession\n  } = _ref2;\n  /* Convert URL into an object with parameters as keys\n  { redirect_uri: 'http://localhost:3000/', response_type: 'code', ...} */\n  const url = new AmplifyUrl(currentUrl);\n  const code = url.searchParams.get('code');\n  const state = url.searchParams.get('state');\n  // if `code` or `state` is not presented in the redirect url, most likely\n  // that the end user cancelled the inflight oauth flow by:\n  // 1. clicking the back button of browser\n  // 2. closing the provider hosted UI page and coming back to the app\n  if (!code || !state) {\n    throw createOAuthError('User cancelled OAuth flow.');\n  }\n  // may throw error is being caught in attemptCompleteOAuthFlow.ts\n  const validatedState = await validateState(state);\n  const oAuthTokenEndpoint = 'https://' + domain + '/oauth2/token';\n  // TODO(v6): check hub events\n  // dispatchAuthEvent(\n  // \t'codeFlow',\n  // \t{},\n  // \t`Retrieving tokens from ${oAuthTokenEndpoint}`\n  // );\n  const codeVerifier = await oAuthStore.loadPKCE();\n  const oAuthTokenBody = _objectSpread({\n    grant_type: 'authorization_code',\n    code,\n    client_id: clientId,\n    redirect_uri: redirectUri\n  }, codeVerifier ? {\n    code_verifier: codeVerifier\n  } : {});\n  const body = Object.entries(oAuthTokenBody).map(_ref3 => {\n    let [k, v] = _ref3;\n    return \"\".concat(encodeURIComponent(k), \"=\").concat(encodeURIComponent(v));\n  }).join('&');\n  const {\n    access_token,\n    refresh_token: refreshToken,\n    id_token,\n    error,\n    error_message: errorMessage,\n    token_type,\n    expires_in\n  } = await (await fetch(oAuthTokenEndpoint, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      [USER_AGENT_HEADER]: userAgentValue\n    },\n    body\n  })).json();\n  if (error) {\n    // error is being caught in attemptCompleteOAuthFlow.ts\n    throw createOAuthError(errorMessage !== null && errorMessage !== void 0 ? errorMessage : error);\n  }\n  const username = (_ref4 = access_token && decodeJWT(access_token).payload.username) !== null && _ref4 !== void 0 ? _ref4 : 'username';\n  await cacheCognitoTokens({\n    username,\n    AccessToken: access_token,\n    IdToken: id_token,\n    RefreshToken: refreshToken\n  });\n  return completeFlow({\n    redirectUri,\n    state: validatedState,\n    preferPrivateSession\n  });\n};\nconst handleImplicitFlow = async _ref5 => {\n  var _url$hash, _ref7;\n  let {\n    currentUrl,\n    redirectUri,\n    preferPrivateSession\n  } = _ref5;\n  // hash is `null` if `#` doesn't exist on URL\n  const url = new AmplifyUrl(currentUrl);\n  const {\n    id_token,\n    access_token,\n    state,\n    token_type,\n    expires_in,\n    error_description,\n    error\n  } = ((_url$hash = url.hash) !== null && _url$hash !== void 0 ? _url$hash : '#').substring(1) // Remove # from returned code\n  .split('&').map(pairings => pairings.split('=')).reduce((accum, _ref6) => {\n    let [k, v] = _ref6;\n    return _objectSpread(_objectSpread({}, accum), {}, {\n      [k]: v\n    });\n  }, {\n    id_token: undefined,\n    access_token: undefined,\n    state: undefined,\n    token_type: undefined,\n    expires_in: undefined,\n    error_description: undefined,\n    error: undefined\n  });\n  if (error) {\n    throw createOAuthError(error_description !== null && error_description !== void 0 ? error_description : error);\n  }\n  if (!access_token) {\n    // error is being caught in attemptCompleteOAuthFlow.ts\n    throw createOAuthError('No access token returned from OAuth flow.');\n  }\n  const validatedState = await validateState(state);\n  const username = (_ref7 = access_token && decodeJWT(access_token).payload.username) !== null && _ref7 !== void 0 ? _ref7 : 'username';\n  await cacheCognitoTokens({\n    username,\n    AccessToken: access_token,\n    IdToken: id_token\n  });\n  return completeFlow({\n    redirectUri,\n    state: validatedState,\n    preferPrivateSession\n  });\n};\nconst completeFlow = async _ref8 => {\n  let {\n    redirectUri,\n    state,\n    preferPrivateSession\n  } = _ref8;\n  await tokenOrchestrator.setOAuthMetadata({\n    oauthSignIn: true\n  });\n  await oAuthStore.clearOAuthData();\n  await oAuthStore.storeOAuthSignIn(true, preferPrivateSession);\n  // this should be called before any call that involves `fetchAuthSession`\n  // e.g. `getCurrentUser()` below, so it allows every inflight async calls to\n  //  `fetchAuthSession` can be resolved\n  resolveAndClearInflightPromises();\n  // clear history before sending out final Hub events\n  clearHistory(redirectUri);\n  if (isCustomState(state)) {\n    Hub.dispatch('auth', {\n      event: 'customOAuthState',\n      data: urlSafeDecode(getCustomState(state))\n    }, 'Auth', AMPLIFY_SYMBOL);\n  }\n  Hub.dispatch('auth', {\n    event: 'signInWithRedirect'\n  }, 'Auth', AMPLIFY_SYMBOL);\n  await dispatchSignedInHubEvent();\n};\nconst isCustomState = state => {\n  return /-/.test(state);\n};\nconst getCustomState = state => {\n  return state.split('-').splice(1).join('-');\n};\nconst clearHistory = redirectUri => {\n  if (typeof window !== 'undefined' && typeof window.history !== 'undefined') {\n    window.history.replaceState(window.history.state, '', redirectUri);\n  }\n};\nexport { completeOAuthFlow };","map":{"version":3,"names":["completeOAuthFlow","_ref","currentUrl","userAgentValue","clientId","redirectUri","responseType","domain","preferPrivateSession","urlParams","AmplifyUrl","error","searchParams","get","errorMessage","createOAuthError","handleCodeFlow","handleImplicitFlow","_ref2","_ref4","url","code","state","validatedState","validateState","oAuthTokenEndpoint","codeVerifier","oAuthStore","loadPKCE","oAuthTokenBody","_objectSpread","grant_type","client_id","redirect_uri","code_verifier","body","Object","entries","map","_ref3","k","v","concat","encodeURIComponent","join","access_token","refresh_token","refreshToken","id_token","error_message","token_type","expires_in","fetch","method","headers","USER_AGENT_HEADER","json","username","decodeJWT","payload","cacheCognitoTokens","AccessToken","IdToken","RefreshToken","completeFlow","_ref5","_url$hash","_ref7","error_description","hash","substring","split","pairings","reduce","accum","_ref6","undefined","_ref8","tokenOrchestrator","setOAuthMetadata","oauthSignIn","clearOAuthData","storeOAuthSignIn","resolveAndClearInflightPromises","clearHistory","isCustomState","Hub","dispatch","event","data","urlSafeDecode","getCustomState","AMPLIFY_SYMBOL","dispatchSignedInHubEvent","test","splice","window","history","replaceState"],"sources":["/home/truongnvops/Documents/Project_AWS/tdhva-cooksocial/frontend/node_modules/@aws-amplify/auth/src/providers/cognito/utils/oauth/completeOAuthFlow.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AMPLIFY_SYMBOL, AmplifyUrl, USER_AGENT_HEADER, urlSafeDecode, } from '@aws-amplify/core/internals/utils';\nimport { Hub, decodeJWT } from '@aws-amplify/core';\nimport { cacheCognitoTokens } from '../../tokenProvider/cacheTokens';\nimport { dispatchSignedInHubEvent } from '../dispatchSignedInHubEvent';\nimport { tokenOrchestrator } from '../../tokenProvider';\nimport { createOAuthError } from './createOAuthError';\nimport { resolveAndClearInflightPromises } from './inflightPromise';\nimport { validateState } from './validateState';\nimport { oAuthStore } from './oAuthStore';\nexport const completeOAuthFlow = async ({ currentUrl, userAgentValue, clientId, redirectUri, responseType, domain, preferPrivateSession, }) => {\n    const urlParams = new AmplifyUrl(currentUrl);\n    const error = urlParams.searchParams.get('error');\n    const errorMessage = urlParams.searchParams.get('error_description');\n    if (error) {\n        throw createOAuthError(errorMessage ?? error);\n    }\n    if (responseType === 'code') {\n        return handleCodeFlow({\n            currentUrl,\n            userAgentValue,\n            clientId,\n            redirectUri,\n            domain,\n            preferPrivateSession,\n        });\n    }\n    return handleImplicitFlow({\n        currentUrl,\n        redirectUri,\n        preferPrivateSession,\n    });\n};\nconst handleCodeFlow = async ({ currentUrl, userAgentValue, clientId, redirectUri, domain, preferPrivateSession, }) => {\n    /* Convert URL into an object with parameters as keys\n{ redirect_uri: 'http://localhost:3000/', response_type: 'code', ...} */\n    const url = new AmplifyUrl(currentUrl);\n    const code = url.searchParams.get('code');\n    const state = url.searchParams.get('state');\n    // if `code` or `state` is not presented in the redirect url, most likely\n    // that the end user cancelled the inflight oauth flow by:\n    // 1. clicking the back button of browser\n    // 2. closing the provider hosted UI page and coming back to the app\n    if (!code || !state) {\n        throw createOAuthError('User cancelled OAuth flow.');\n    }\n    // may throw error is being caught in attemptCompleteOAuthFlow.ts\n    const validatedState = await validateState(state);\n    const oAuthTokenEndpoint = 'https://' + domain + '/oauth2/token';\n    // TODO(v6): check hub events\n    // dispatchAuthEvent(\n    // \t'codeFlow',\n    // \t{},\n    // \t`Retrieving tokens from ${oAuthTokenEndpoint}`\n    // );\n    const codeVerifier = await oAuthStore.loadPKCE();\n    const oAuthTokenBody = {\n        grant_type: 'authorization_code',\n        code,\n        client_id: clientId,\n        redirect_uri: redirectUri,\n        ...(codeVerifier ? { code_verifier: codeVerifier } : {}),\n    };\n    const body = Object.entries(oAuthTokenBody)\n        .map(([k, v]) => `${encodeURIComponent(k)}=${encodeURIComponent(v)}`)\n        .join('&');\n    const { access_token, refresh_token: refreshToken, id_token, error, error_message: errorMessage, token_type, expires_in, } = await (await fetch(oAuthTokenEndpoint, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n            [USER_AGENT_HEADER]: userAgentValue,\n        },\n        body,\n    })).json();\n    if (error) {\n        // error is being caught in attemptCompleteOAuthFlow.ts\n        throw createOAuthError(errorMessage ?? error);\n    }\n    const username = (access_token && decodeJWT(access_token).payload.username) ?? 'username';\n    await cacheCognitoTokens({\n        username,\n        AccessToken: access_token,\n        IdToken: id_token,\n        RefreshToken: refreshToken,\n        TokenType: token_type,\n        ExpiresIn: expires_in,\n    });\n    return completeFlow({\n        redirectUri,\n        state: validatedState,\n        preferPrivateSession,\n    });\n};\nconst handleImplicitFlow = async ({ currentUrl, redirectUri, preferPrivateSession, }) => {\n    // hash is `null` if `#` doesn't exist on URL\n    const url = new AmplifyUrl(currentUrl);\n    const { id_token, access_token, state, token_type, expires_in, error_description, error, } = (url.hash ?? '#')\n        .substring(1) // Remove # from returned code\n        .split('&')\n        .map(pairings => pairings.split('='))\n        .reduce((accum, [k, v]) => ({ ...accum, [k]: v }), {\n        id_token: undefined,\n        access_token: undefined,\n        state: undefined,\n        token_type: undefined,\n        expires_in: undefined,\n        error_description: undefined,\n        error: undefined,\n    });\n    if (error) {\n        throw createOAuthError(error_description ?? error);\n    }\n    if (!access_token) {\n        // error is being caught in attemptCompleteOAuthFlow.ts\n        throw createOAuthError('No access token returned from OAuth flow.');\n    }\n    const validatedState = await validateState(state);\n    const username = (access_token && decodeJWT(access_token).payload.username) ?? 'username';\n    await cacheCognitoTokens({\n        username,\n        AccessToken: access_token,\n        IdToken: id_token,\n        TokenType: token_type,\n        ExpiresIn: expires_in,\n    });\n    return completeFlow({\n        redirectUri,\n        state: validatedState,\n        preferPrivateSession,\n    });\n};\nconst completeFlow = async ({ redirectUri, state, preferPrivateSession, }) => {\n    await tokenOrchestrator.setOAuthMetadata({\n        oauthSignIn: true,\n    });\n    await oAuthStore.clearOAuthData();\n    await oAuthStore.storeOAuthSignIn(true, preferPrivateSession);\n    // this should be called before any call that involves `fetchAuthSession`\n    // e.g. `getCurrentUser()` below, so it allows every inflight async calls to\n    //  `fetchAuthSession` can be resolved\n    resolveAndClearInflightPromises();\n    // clear history before sending out final Hub events\n    clearHistory(redirectUri);\n    if (isCustomState(state)) {\n        Hub.dispatch('auth', {\n            event: 'customOAuthState',\n            data: urlSafeDecode(getCustomState(state)),\n        }, 'Auth', AMPLIFY_SYMBOL);\n    }\n    Hub.dispatch('auth', { event: 'signInWithRedirect' }, 'Auth', AMPLIFY_SYMBOL);\n    await dispatchSignedInHubEvent();\n};\nconst isCustomState = (state) => {\n    return /-/.test(state);\n};\nconst getCustomState = (state) => {\n    return state.split('-').splice(1).join('-');\n};\nconst clearHistory = (redirectUri) => {\n    if (typeof window !== 'undefined' && typeof window.history !== 'undefined') {\n        window.history.replaceState(window.history.state, '', redirectUri);\n    }\n};\n"],"mappings":";;;;;;;;;;;;;AAAA;AACA;AAUY,MAACA,iBAAiB,GAAG,MAAAC,IAAA,IAA8G;EAAA,IAAvG;IAAEC,UAAU;IAAEC,cAAc;IAAEC,QAAQ;IAAEC,WAAW;IAAEC,YAAY;IAAEC,MAAM;IAAEC;EAAoB,CAAG,GAAAP,IAAA;EACtI,MAAMQ,SAAS,GAAG,IAAIC,UAAU,CAACR,UAAU,CAAC;EAC5C,MAAMS,KAAK,GAAGF,SAAS,CAACG,YAAY,CAACC,GAAG,CAAC,OAAO,CAAC;EACjD,MAAMC,YAAY,GAAGL,SAAS,CAACG,YAAY,CAACC,GAAG,CAAC,mBAAmB,CAAC;EACpE,IAAIF,KAAK,EAAE;IACP,MAAMI,gBAAgB,CAACD,YAAY,aAAZA,YAAY,cAAZA,YAAY,GAAIH,KAAK,CAAC;EACjD;EACA,IAAIL,YAAY,KAAK,MAAM,EAAE;IACzB,OAAOU,cAAc,CAAC;MAClBd,UAAU;MACVC,cAAc;MACdC,QAAQ;MACRC,WAAW;MACXE,MAAM;MACNC;IACZ,CAAS,CAAC;EACN;EACA,OAAOS,kBAAkB,CAAC;IACtBf,UAAU;IACVG,WAAW;IACXG;EACR,CAAK,CAAC;AACN;AACA,MAAMQ,cAAc,GAAG,MAAAE,KAAA,IAAgG;EAAA,IAAAC,KAAA;EAAA,IAAzF;IAAEjB,UAAU;IAAEC,cAAc;IAAEC,QAAQ;IAAEC,WAAW;IAAEE,MAAM;IAAEC;EAAoB,CAAG,GAAAU,KAAA;EAClH;AACA;EACI,MAAME,GAAG,GAAG,IAAIV,UAAU,CAACR,UAAU,CAAC;EACtC,MAAMmB,IAAI,GAAGD,GAAG,CAACR,YAAY,CAACC,GAAG,CAAC,MAAM,CAAC;EACzC,MAAMS,KAAK,GAAGF,GAAG,CAACR,YAAY,CAACC,GAAG,CAAC,OAAO,CAAC;EAC/C;EACA;EACA;EACA;EACI,IAAI,CAACQ,IAAI,IAAI,CAACC,KAAK,EAAE;IACjB,MAAMP,gBAAgB,CAAC,4BAA4B,CAAC;EACxD;EACJ;EACI,MAAMQ,cAAc,GAAG,MAAMC,aAAa,CAACF,KAAK,CAAC;EACjD,MAAMG,kBAAkB,GAAG,UAAU,GAAGlB,MAAM,GAAG,eAAe;EACpE;EACA;EACA;EACA;EACA;EACA;EACI,MAAMmB,YAAY,GAAG,MAAMC,UAAU,CAACC,QAAQ,EAAE;EAChD,MAAMC,cAAc,GAAAC,aAAA;IAChBC,UAAU,EAAE,oBAAoB;IAChCV,IAAI;IACJW,SAAS,EAAE5B,QAAQ;IACnB6B,YAAY,EAAE5B;EAAW,GACrBqB,YAAY,GAAG;IAAEQ,aAAa,EAAER;EAAY,CAAE,GAAG,EAAE,CAC1D;EACD,MAAMS,IAAI,GAAGC,MAAM,CAACC,OAAO,CAACR,cAAc,EACrCS,GAAG,CAACC,KAAA;IAAA,IAAC,CAACC,CAAC,EAAEC,CAAC,CAAC,GAAAF,KAAA;IAAA,UAAAG,MAAA,CAAQC,kBAAkB,CAACH,CAAC,CAAC,OAAAE,MAAA,CAAIC,kBAAkB,CAACF,CAAC,CAAC;EAAA,CAAE,EACnEG,IAAI,CAAC,GAAG,CAAC;EACd,MAAM;IAAEC,YAAY;IAAEC,aAAa,EAAEC,YAAY;IAAEC,QAAQ;IAAErC,KAAK;IAAEsC,aAAa,EAAEnC,YAAY;IAAEoC,UAAU;IAAEC;EAAU,CAAG,GAAG,MAAM,CAAC,MAAMC,KAAK,CAAC3B,kBAAkB,EAAE;IAChK4B,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,cAAc,EAAE,mCAAmC;MACnD,CAACC,iBAAiB,GAAGpD;IACjC,CAAS;IACDgC;EACR,CAAK,CAAC,EAAEqB,IAAI,EAAE;EACV,IAAI7C,KAAK,EAAE;IACf;IACQ,MAAMI,gBAAgB,CAACD,YAAY,aAAZA,YAAY,cAAZA,YAAY,GAAIH,KAAK,CAAC;EACjD;EACA,MAAM8C,QAAQ,IAAAtC,KAAA,GAAI0B,YAAY,IAAIa,SAAS,CAACb,YAAY,CAAC,CAACc,OAAO,CAACF,QAAQ,cAAAtC,KAAA,cAAAA,KAAA,GAAK,UAAU;EACzF,MAAMyC,kBAAkB,CAAC;IACrBH,QAAQ;IACRI,WAAW,EAAEhB,YAAY;IACzBiB,OAAO,EAAEd,QAAQ;IACjBe,YAAY,EAAEhB;EAGlB,CAAC,CAAC;EACF,OAAOiB,YAAY,CAAC;IAChB3D,WAAW;IACXiB,KAAK,EAAEC,cAAc;IACrBf;EACR,CAAK,CAAC;AACN,CAAC;AACD,MAAMS,kBAAkB,GAAG,MAAAgD,KAAA,IAA8D;EAAA,IAAAC,SAAA,EAAAC,KAAA;EAAA,IAAvD;IAAEjE,UAAU;IAAEG,WAAW;IAAEG;EAAoB,CAAG,GAAAyD,KAAA;EACpF;EACI,MAAM7C,GAAG,GAAG,IAAIV,UAAU,CAACR,UAAU,CAAC;EACtC,MAAM;IAAE8C,QAAQ;IAAEH,YAAY;IAAEvB,KAAK;IAAE4B,UAAU;IAAEC,UAAU;IAAEiB,iBAAiB;IAAEzD;EAAK,CAAG,GAAG,EAAAuD,SAAA,GAAC9C,GAAG,CAACiD,IAAI,cAAAH,SAAA,cAAAA,SAAA,GAAI,GAAG,EACxGI,SAAS,CAAC,CAAC,CAAC;EAAA,CACZC,KAAK,CAAC,GAAG,EACTjC,GAAG,CAACkC,QAAQ,IAAIA,QAAQ,CAACD,KAAK,CAAC,GAAG,CAAC,EACnCE,MAAM,CAAC,CAACC,KAAK,EAAAC,KAAA;IAAA,IAAE,CAACnC,CAAC,EAAEC,CAAC,CAAC,GAAAkC,KAAA;IAAA,OAAA7C,aAAA,CAAAA,aAAA,KAAW4C,KAAK;MAAE,CAAClC,CAAC,GAAGC;IAAC;EAAA,CAAG,EAAE;IACnDO,QAAQ,EAAE4B,SAAS;IACnB/B,YAAY,EAAE+B,SAAS;IACvBtD,KAAK,EAAEsD,SAAS;IAChB1B,UAAU,EAAE0B,SAAS;IACrBzB,UAAU,EAAEyB,SAAS;IACrBR,iBAAiB,EAAEQ,SAAS;IAC5BjE,KAAK,EAAEiE;EACf,CAAK,CAAC;EACF,IAAIjE,KAAK,EAAE;IACP,MAAMI,gBAAgB,CAACqD,iBAAiB,aAAjBA,iBAAiB,cAAjBA,iBAAiB,GAAIzD,KAAK,CAAC;EACtD;EACA,IAAI,CAACkC,YAAY,EAAE;IACvB;IACQ,MAAM9B,gBAAgB,CAAC,2CAA2C,CAAC;EACvE;EACA,MAAMQ,cAAc,GAAG,MAAMC,aAAa,CAACF,KAAK,CAAC;EACjD,MAAMmC,QAAQ,IAAAU,KAAA,GAAItB,YAAY,IAAIa,SAAS,CAACb,YAAY,CAAC,CAACc,OAAO,CAACF,QAAQ,cAAAU,KAAA,cAAAA,KAAA,GAAK,UAAU;EACzF,MAAMP,kBAAkB,CAAC;IACrBH,QAAQ;IACRI,WAAW,EAAEhB,YAAY;IACzBiB,OAAO,EAAEd;EAGb,CAAC,CAAC;EACF,OAAOgB,YAAY,CAAC;IAChB3D,WAAW;IACXiB,KAAK,EAAEC,cAAc;IACrBf;EACR,CAAK,CAAC;AACN,CAAC;AACD,MAAMwD,YAAY,GAAG,MAAAa,KAAA,IAAyD;EAAA,IAAlD;IAAExE,WAAW;IAAEiB,KAAK;IAAEd;EAAoB,CAAG,GAAAqE,KAAA;EACrE,MAAMC,iBAAiB,CAACC,gBAAgB,CAAC;IACrCC,WAAW,EAAE;EACrB,CAAK,CAAC;EACF,MAAMrD,UAAU,CAACsD,cAAc,EAAE;EACjC,MAAMtD,UAAU,CAACuD,gBAAgB,CAAC,IAAI,EAAE1E,oBAAoB,CAAC;EACjE;EACA;EACA;EACI2E,+BAA+B,EAAE;EACrC;EACIC,YAAY,CAAC/E,WAAW,CAAC;EACzB,IAAIgF,aAAa,CAAC/D,KAAK,CAAC,EAAE;IACtBgE,GAAG,CAACC,QAAQ,CAAC,MAAM,EAAE;MACjBC,KAAK,EAAE,kBAAkB;MACzBC,IAAI,EAAEC,aAAa,CAACC,cAAc,CAACrE,KAAK,CAAC;IACrD,CAAS,EAAE,MAAM,EAAEsE,cAAc,CAAC;EAC9B;EACAN,GAAG,CAACC,QAAQ,CAAC,MAAM,EAAE;IAAEC,KAAK,EAAE;EAAoB,CAAE,EAAE,MAAM,EAAEI,cAAc,CAAC;EAC7E,MAAMC,wBAAwB,EAAE;AACpC,CAAC;AACD,MAAMR,aAAa,GAAI/D,KAAK,IAAK;EAC7B,OAAO,GAAG,CAACwE,IAAI,CAACxE,KAAK,CAAC;AAC1B,CAAC;AACD,MAAMqE,cAAc,GAAIrE,KAAK,IAAK;EAC9B,OAAOA,KAAK,CAACiD,KAAK,CAAC,GAAG,CAAC,CAACwB,MAAM,CAAC,CAAC,CAAC,CAACnD,IAAI,CAAC,GAAG,CAAC;AAC/C,CAAC;AACD,MAAMwC,YAAY,GAAI/E,WAAW,IAAK;EAClC,IAAI,OAAO2F,MAAM,KAAK,WAAW,IAAI,OAAOA,MAAM,CAACC,OAAO,KAAK,WAAW,EAAE;IACxED,MAAM,CAACC,OAAO,CAACC,YAAY,CAACF,MAAM,CAACC,OAAO,CAAC3E,KAAK,EAAE,EAAE,EAAEjB,WAAW,CAAC;EACtE;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}